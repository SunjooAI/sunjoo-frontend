{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Samsung/Desktop/BeJuRyu/2023_1_WAT_BeJuRyu/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Samsung/Desktop/BeJuRyu/2023_1_WAT_BeJuRyu/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Samsung/Desktop/BeJuRyu/2023_1_WAT_BeJuRyu/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"C:/Users/Samsung/Desktop/BeJuRyu/2023_1_WAT_BeJuRyu/front/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;/* TODO\r\n1. 거의 완료\r\n2. [X] 이미지 첨부 후 서버와 통신할 때 json로 넘기는 방법 찾아볼 것.(facial-expression: string => base64 인코딩\r\n3. [X] 현재 줄글 작성 부분과 이미지 들어가는 게 따로 구현되있는데, 서버 넘길때 한 번에 넘겨야되므로 코드 합침 필요\r\n  => formData*/import S from\"./styled\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import PhotoUpload from\"./PhotoUpload\";import authClient from\"../../apis/authClient\";import Modal from\"@mui/material/Modal\";import Typography from\"@mui/material/Typography\";import Button from\"@mui/material/Button\";import Box from\"@mui/material/Box\";import{styled}from\"@mui/system\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledTypography=styled(Typography)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  font-family: \\\"BejuryuFont\\\";\\n\"])));function Recommend(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),jwtToken=_useState2[0],setJwtToken=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),imagePreview=_useState4[0],setImagePreview=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selectedFile=_useState6[0],setSelectedFile=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),inputValue=_useState8[0],setInputValue=_useState8[1];// 텍스트 입력값 상태 추가\nvar _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isModalOpen=_useState10[0],setIsModalOpen=_useState10[1];var openModal=function openModal(){return setIsModalOpen(true);};var closeModal=function closeModal(){return setIsModalOpen(false);};var currentDate=getCurrentDateTime();// 현재 시각 가져오기\nvar handleFormSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var reader;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();if(selectedFile){reader=new FileReader();// base64 encoding해서\nreader.onloadend=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var base64Data,res,analysisId,err;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:base64Data=String(reader.result.split(\",\")[1]);_context.prev=1;_context.next=4;return authClient({method:\"post\",url:\"/analyze/sources\",data:{date:currentDate,facialExpression:base64Data,textExpression:inputValue}});case 4:res=_context.sent;// response값으로 받은 analysisId result.jsx 파일에서 사용\nanalysisId=res.data.id;if(analysisId){// analysisId가 정의된 경우 실행할 코드\nconsole.log(\"recommend analysisId:\",analysisId);}else{// analysisId가 정의되지 않은 경우 실행할 코드\nconsole.log(\"recommend analysisId is undefined\");}navigate(\"/result\",{state:{analysisId:res.data.id}});// 서버 응답 처리\n_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);if(_context.t0.response){// 서버 응답 에러\nerr=_context.t0.response.data;console.log(err);}case 13:case\"end\":return _context.stop();}},_callee,null,[[1,10]]);}));reader.readAsDataURL(selectedFile);}case 2:case\"end\":return _context2.stop();}},_callee2);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();var handleInputChange=function handleInputChange(e){setInputValue(e.target.value);};var handleFileChange=function handleFileChange(file){setSelectedFile(file);//setInputValue(e.target.value);\n};return/*#__PURE__*/_jsx(S.Container,{children:/*#__PURE__*/_jsxs(S.Wrapper,{children:[/*#__PURE__*/_jsx(S.Title,{children:\"\\uC8FC\\uB958 \\uCD94\\uCC9C\\uC744 \\uBC1B\\uAE30 \\uC704\\uD574\\uC11C \\uD544\\uC694\\uD55C \\uC815\\uBCF4\\uB97C \\uC54C\\uB824\\uC8FC\\uC138\\uC694!\"}),/*#__PURE__*/_jsxs(S.WhiteBox,{children:[/*#__PURE__*/_jsx(S.textInput,{value:inputValue,onChange:handleInputChange}),inputValue===\"\"&&/*#__PURE__*/_jsx(S.MyState,{children:\"\\uAE30\\uBD84\\uC774 \\uC5B4\\uB5A0\\uC2E0\\uAC00\\uC694? \\uAC10\\uC815\\uC774 \\uD45C\\uD604\\uB418\\uB294 \\uC5B8\\uC5B4\\uAC00 \\uB4E4\\uC5B4\\uAC00\\uC788\\uC73C\\uBA74 \\uC88B\\uC544\\uC694!\"})]}),/*#__PURE__*/_jsx(PhotoUpload,{setSelectedFile:handleFileChange,setImagePreview:setImagePreview,imagePreview:imagePreview}),/*#__PURE__*/_jsxs(S.ButtonContainer,{children:[/*#__PURE__*/_jsx(S.SubmitButton,{onClick:handleFormSubmit,children:\"\\uAC10\\uC815 \\uBD84\\uC11D \\uC2DC\\uC791\"}),/*#__PURE__*/_jsx(S.SubmitButton,{onClick:openModal,children:\"\\uC8FC\\uB958\\uCD94\\uCC9C tip\"})]}),/*#__PURE__*/_jsx(Modal,{open:isModalOpen,onClose:closeModal,children:/*#__PURE__*/_jsxs(Box,{sx:{position:\"absolute\",top:\"50%\",left:\"50%\",transform:\"translate(-50%, -50%)\",bgcolor:\"white\",p:2,maxHeight:\"80vh\",overflowY:\"auto\"},children:[/*#__PURE__*/_jsx(StyledTypography,{variant:\"h6\",component:\"h2\",children:\"\\uD14D\\uC2A4\\uD2B8\\uC791\\uC131 tip\"}),/*#__PURE__*/_jsxs(StyledTypography,{sx:{fontStyle:\"BejuryuFont\"},children:[\"\\uC774\\uB807\\uAC8C \\uD558\\uBA74 \\uC778\\uACF5\\uC9C0\\uB2A5\\uC774 \\uB354 \\uC798 \\uC774\\uD574\\uD574\\uC694! \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"1. \\uBA85\\uD655\\uD558\\uACE0 \\uAC10\\uC815\\uC774 \\uD45C\\uD604\\uB41C \\uB2E8\\uC5B4\\uB97C \\uD65C\\uC6A9\\uD558\\uAE30 - \\u201C\\uAE30\\uC058\\uB2E4\\u201D, \\u201C\\uC2AC\\uD504\\uB2E4\\u201D, \\u201C\\uD654\\uB098\\uB2E4\\u201D\\uC640 \\uAC19\\uC740 \\uBA85\\uD655\\uD55C \\uAC10\\uC815 \\uD45C\\uD604\\uC744 \\uC0AC\\uC6A9\\uD558\\uBA74 \\uB354 \\uC88B\\uC544\\uC694! \",/*#__PURE__*/_jsx(\"br\",{}),\"2. \\uAC04\\uACB0\\uD558\\uACE0 \\uBA85\\uD655\\uD55C \\uBB38\\uC7A5\\uC744 \\uAD6C\\uC131\\uD558\\uAE30 - \\uC9E7\\uACE0 \\uAC04\\uACB0\\uD55C \\uBB38\\uC7A5\\uC744 \\uC0AC\\uC6A9\\uD558\\uBA74 \\uB354 \\uC88B\\uC544\\uC694!\",/*#__PURE__*/_jsx(\"br\",{}),\"3. \\uB300\\uD654\\uCCB4\\uB098 \\uAC10\\uC815\\uC744 \\uAC15\\uC870\\uD558\\uB294 \\uC5B4\\uAD6C \\uC0AC\\uC6A9\\uD558\\uAE30 - \\uC9C1\\uC811 \\uB2E4\\uB978 \\uC0AC\\uB78C\\uC5D0\\uAC8C \\uB9D0\\uD558\\uB294 \\uAC83\\uCC98\\uB7FC \\uC791\\uC131\\uD558\\uBA74 \\uB354 \\uC88B\\uC544\\uC694!\",/*#__PURE__*/_jsx(\"br\",{}),\"4. \\uD45C\\uC815\\uACFC \\uC5BC\\uAD74 \\uD2B9\\uC9D5: \\uC778\\uACF5\\uC9C0\\uB2A5\\uC774 \\uAC10\\uC815\\uC744 \\uC778\\uC2DD\\uD558\\uB294 \\uB370 \\uAC00\\uC7A5 \\uC911\\uC694\\uD55C \\uD78C\\uD2B8\\uB294 \\uC0AC\\uB78C\\uC758 \\uD45C\\uC815\\uACFC \\uC5BC\\uAD74 \\uD2B9\\uC9D5\\uC785\\uB2C8\\uB2E4. \\uAC10\\uC815\\uC744 \\uC798 \\uC778\\uC2DD\\uD558\\uAE30 \\uC704\\uD574\\uC11C\\uB294 \\uC0AC\\uB78C\\uC758 \\uC5BC\\uAD74\\uC774 \\uBA85\\uD655\\uD558\\uAC8C \\uBCF4\\uC774\\uACE0 \\uD45C\\uC815\\uC774 \\uC798 \\uB4DC\\uB7EC\\uB098\\uB294 \\uC0AC\\uC9C4\\uC744 \\uC120\\uD0DD\\uD558\\uC138\\uC694.\",/*#__PURE__*/_jsx(\"br\",{}),\"5. \\uB208\\uC758 \\uD45C\\uD604: \\uB208\\uC740 \\uAC10\\uC815\\uC744 \\uC804\\uB2EC\\uD558\\uB294 \\uB370 \\uC911\\uC694\\uD55C \\uC5ED\\uD560\\uC744 \\uD569\\uB2C8\\uB2E4. \\uB208\\uC758 \\uD45C\\uC815, \\uB208\\uB3D9\\uC790\\uC758 \\uD06C\\uAE30\\uC640 \\uC704\\uCE58, \\uB208\\uC379\\uC758 \\uC6C0\\uC9C1\\uC784 \\uB4F1\\uC744 \\uC778\\uC2DD\\uD560 \\uC218 \\uC788\\uB294 \\uC0AC\\uC9C4\\uC744 \\uC120\\uD0DD\\uD558\\uC138\\uC694. \\uC774\\uB7EC\\uD55C \\uD2B9\\uC9D5\\uB4E4\\uC740 \\uC778\\uACF5\\uC9C0\\uB2A5\\uC774 \\uB354 \\uC815\\uD655\\uD558\\uAC8C \\uAC10\\uC815\\uC744 \\uD30C\\uC545\\uD558\\uB294 \\uB370 \\uB3C4\\uC6C0\\uC774 \\uB429\\uB2C8\\uB2E4.\",/*#__PURE__*/_jsx(\"br\",{}),\" 6. \\uC785 \\uBAA8\\uC591\\uACFC \\uD45C\\uD604: \\uC785\\uC758 \\uBAA8\\uC591\\uACFC \\uD45C\\uD604\\uC740 \\uAC10\\uC815\\uC744 \\uC804\\uB2EC\\uD558\\uB294 \\uB370 \\uC911\\uC694\\uD55C \\uC5ED\\uD560\\uC744 \\uD569\\uB2C8\\uB2E4. \\uC785\\uC758 \\uC6C0\\uC9C1\\uC784, \\uC785\\uC220\\uC758 \\uD615\\uD0DC\\uC640 \\uD45C\\uC815 \\uB4F1\\uC744 \\uC798 \\uB098\\uD0C0\\uB0B4\\uB294 \\uC0AC\\uC9C4\\uC744 \\uC120\\uD0DD\\uD558\\uC138\\uC694. \\uC774\\uB7EC\\uD55C \\uC815\\uBCF4\\uB294 \\uC778\\uACF5\\uC9C0\\uB2A5\\uC774 \\uD589\\uBCF5, \\uC2AC\\uD514, \\uBD84\\uB178 \\uB4F1\\uC758 \\uAC10\\uC815\\uC744 \\uB354 \\uC798 \\uC778\\uC2DD\\uD558\\uB294 \\uB370 \\uB3C4\\uC6C0\\uC774 \\uB429\\uB2C8\\uB2E4. \",/*#__PURE__*/_jsx(\"br\",{}),\" 7. \\uC790\\uC138\\uC640 \\uC2E0\\uCCB4 \\uC5B8\\uC5B4: \\uC0AC\\uB78C\\uC758 \\uC790\\uC138\\uC640 \\uC2E0\\uCCB4 \\uC5B8\\uC5B4\\uB3C4 \\uAC10\\uC815\\uC744 \\uC804\\uB2EC\\uD558\\uB294 \\uB370 \\uC911\\uC694\\uD55C \\uD78C\\uD2B8\\uB97C \\uC81C\\uACF5\\uD569\\uB2C8\\uB2E4. \\uC190\\uB3D9\\uC791, \\uC5B4\\uAE68\\uC758 \\uC6C0\\uC9C1\\uC784, \\uBAB8\\uC758 \\uC790\\uC138 \\uB4F1\\uC774 \\uC778\\uACF5\\uC9C0\\uB2A5\\uC774 \\uAC10\\uC815\\uC744 \\uC778\\uC2DD\\uD558\\uB294 \\uB370 \\uB3C4\\uC6C0\\uC774 \\uB420 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uB530\\uB77C\\uC11C \\uC0AC\\uC9C4\\uC5D0\\uC11C \\uC0AC\\uB78C\\uC758 \\uC790\\uC138\\uC640 \\uC2E0\\uCCB4 \\uC5B8\\uC5B4\\uB97C \\uC798 \\uD3EC\\uCC29\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uC8FC\\uC758\\uD558\\uC138\\uC694.\",\" \",/*#__PURE__*/_jsx(\"br\",{}),\" 8. \\uD658\\uACBD\\uACFC \\uBC30\\uACBD \\uC815\\uBCF4: \\uC0AC\\uC9C4\\uC744 \\uBD84\\uC11D\\uD558\\uB294 \\uC778\\uACF5\\uC9C0\\uB2A5\\uC740 \\uAC10\\uC815 \\uC778\\uC2DD\\uC744 \\uC704\\uD574 \\uC0AC\\uB78C\\uC758 \\uC5BC\\uAD74\\uACFC \\uD568\\uAED8 \\uC8FC\\uBCC0 \\uD658\\uACBD\\uACFC \\uBC30\\uACBD \\uC815\\uBCF4\\uB97C \\uACE0\\uB824\\uD558\\uAE30\\uB3C4 \\uD569\\uB2C8\\uB2E4. \\uB530\\uB77C\\uC11C \\uC0AC\\uC9C4\\uC5D0\\uC11C \\uC0AC\\uB78C\\uC758 \\uC8FC\\uBCC0 \\uD658\\uACBD\\uC744 \\uACE0\\uB824\\uD558\\uACE0, \\uAC10\\uC815\\uC744 \\uD30C\\uC545\\uD558\\uB294 \\uB370 \\uB3C4\\uC6C0\\uC774 \\uB420 \\uC218 \\uC788\\uB294 \\uD78C\\uD2B8\\uB97C \\uD3EC\\uD568\\uD558\\uB294 \\uC0AC\\uC9C4\\uC744 \\uC120\\uD0DD\\uD558\\uC138\\uC694. \",/*#__PURE__*/_jsx(\"br\",{}),\"9. \\uB2E4\\uC591\\uD55C \\uAC10\\uC815 \\uD45C\\uD604: \\uC778\\uACF5\\uC9C0\\uB2A5\\uC744 \\uD6C8\\uB828\\uC2DC\\uD0A4\\uAE30 \\uC704\\uD574\\uC11C\\uB294 \\uB2E4\\uC591\\uD55C \\uAC10\\uC815 \\uD45C\\uD604\\uC774 \\uD3EC\\uD568\\uB41C \\uC0AC\\uC9C4\\uC744 \\uC0AC\\uC6A9\\uD558\\uC138\\uC694. \\uD589\\uBCF5, \\uC2AC\\uD514, \\uBD84\\uB178, \\uB180\\uB78C \\uB4F1 \\uB2E4\\uC591\\uD55C \\uAC10\\uC815\\uC744 \\uB098\\uD0C0\\uB0B4\\uB294 \\uC0AC\\uC9C4\\uC744 \\uC120\\uD0DD\\uD558\\uC5EC \\uBAA8\\uB378\\uC758 \\uB2E4\\uC591\\uC131\\uACFC \\uC815\\uD655\\uC131\\uC744 \\uD5A5\\uC0C1\\uC2DC\\uD0AC \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(StyledTypography,{variant:\"h6\",component:\"h2\",children:\"\\uC0AC\\uC9C4 tip\"}),/*#__PURE__*/_jsxs(StyledTypography,{sx:{mt:2},children:[\"\\uC774\\uB7F0 \\uC0AC\\uC9C4\\uC77C \\uC218\\uB85D \\uC778\\uACF5\\uC9C0\\uB2A5\\uC774 \\uB354 \\uC798 \\uC774\\uD574\\uD574\\uC694!\",/*#__PURE__*/_jsx(\"br\",{}),\"1. \\uC774\\uBAA9\\uAD6C\\uBE44\\uAC00 \\uB2E4 \\uB4E4\\uC5B4\\uB09C \\uC0AC\\uC9C4 - \\uAC01 \\uBD80\\uC704\\uC758 \\uBAA8\\uC591\\uACFC \\uC704\\uCE58\\uB97C \\uBCF4\\uACE0 \\uAC10\\uC815\\uC744 \\uD310\\uB2E8\\uD558\\uAE30 \\uB54C\\uBB38\\uC5D0, \\uB2E4 \\uB4E4\\uC5B4\\uB09C \\uC0AC\\uC9C4\\uC774 \\uB354 \\uC88B\\uC544\\uC694!\",/*#__PURE__*/_jsx(\"br\",{}),\"2. \\uC790\\uC138\\uC640 \\uB3D9\\uC791\\uC774 \\uD45C\\uD604\\uB41C \\uC0AC\\uC9C4 - \\uC790\\uC138\\uC640 \\uB3D9\\uC791\\uB3C4 \\uAC10\\uC815\\uC744 \\uC804\\uB2EC\\uD560 \\uC218 \\uC788\\uAE30 \\uB54C\\uBB38\\uC5D0, \\uD45C\\uD604\\uB41C \\uC0AC\\uC9C4\\uC774 \\uB354 \\uC88B\\uC544\\uC694!\",/*#__PURE__*/_jsx(\"br\",{}),\"3. \\uAC10\\uC815\\uC744 \\uB098\\uD0C0\\uB0B4\\uB294 \\uBC30\\uACBD\\uC774 \\uB4E4\\uC5B4\\uB09C \\uC0AC\\uC9C4 - \\uC5BC\\uAD74\\uC774 \\uD45C\\uD604\\uB41C \\uC0AC\\uC9C4\\uC774 \\uC5B4\\uB824\\uC6B0\\uBA74, \\uBC30\\uACBD \\uC0AC\\uC9C4\\uB3C4 \\uAD1C\\uCC2E\\uC544\\uC694!\"]}),/*#__PURE__*/_jsx(Button,{onClick:closeModal,children:\"\\uC8FC\\uB958\\uCD94\\uCC9C \\uBC1B\\uC73C\\uB7EC go\"})]})})]})});}// 현재 날짜와 시각을 \"yyyy.MM.dd HH:mm\" 형식으로 반환하는 함수\nfunction getCurrentDateTime(){var date=new Date();var year=date.getFullYear();var month=String(date.getMonth()+1).padStart(2,\"0\");var day=String(date.getDate()).padStart(2,\"0\");var hours=String(date.getHours()).padStart(2,\"0\");var minutes=String(date.getMinutes()).padStart(2,\"0\");var formattedDateTime=\"\".concat(year,\"-\").concat(month,\"-\").concat(day,\" \").concat(hours,\":\").concat(minutes);return formattedDateTime;}export default Recommend;","map":{"version":3,"names":["S","useState","useNavigate","PhotoUpload","authClient","Modal","Typography","Button","Box","styled","jsx","_jsx","jsxs","_jsxs","StyledTypography","_templateObject","_taggedTemplateLiteral","Recommend","navigate","_useState","_useState2","_slicedToArray","jwtToken","setJwtToken","_useState3","_useState4","imagePreview","setImagePreview","_useState5","_useState6","selectedFile","setSelectedFile","_useState7","_useState8","inputValue","setInputValue","_useState9","_useState10","isModalOpen","setIsModalOpen","openModal","closeModal","currentDate","getCurrentDateTime","handleFormSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","e","reader","wrap","_callee2$","_context2","prev","next","preventDefault","FileReader","onloadend","_callee","base64Data","res","analysisId","err","_callee$","_context","String","result","split","method","url","data","date","facialExpression","textExpression","sent","id","console","log","state","t0","response","stop","readAsDataURL","_x","apply","arguments","handleInputChange","target","value","handleFileChange","file","Container","children","Wrapper","Title","WhiteBox","textInput","onChange","MyState","ButtonContainer","SubmitButton","onClick","open","onClose","sx","position","top","left","transform","bgcolor","p","maxHeight","overflowY","variant","component","fontStyle","mt","Date","year","getFullYear","month","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","formattedDateTime","concat"],"sources":["C:/Users/Samsung/Desktop/BeJuRyu/2023_1_WAT_BeJuRyu/front/src/components/Recommend/Recommend.jsx"],"sourcesContent":["/* TODO\r\n1. 거의 완료\r\n2. [X] 이미지 첨부 후 서버와 통신할 때 json로 넘기는 방법 찾아볼 것.(facial-expression: string => base64 인코딩\r\n3. [X] 현재 줄글 작성 부분과 이미지 들어가는 게 따로 구현되있는데, 서버 넘길때 한 번에 넘겨야되므로 코드 합침 필요\r\n  => formData*/\r\nimport S from \"./styled\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport PhotoUpload from \"./PhotoUpload\";\r\nimport authClient from \"../../apis/authClient\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Box from \"@mui/material/Box\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst StyledTypography = styled(Typography)`\r\n  font-family: \"BejuryuFont\";\r\n`;\r\n\r\nfunction Recommend() {\r\n  const navigate = useNavigate();\r\n  const [jwtToken, setJwtToken] = useState(\"\");\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [inputValue, setInputValue] = useState(\"\"); // 텍스트 입력값 상태 추가\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n  const openModal = () => setIsModalOpen(true);\r\n  const closeModal = () => setIsModalOpen(false);\r\n\r\n  const currentDate = getCurrentDateTime(); // 현재 시각 가져오기\r\n\r\n  const handleFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (selectedFile) {\r\n      const reader = new FileReader();\r\n      // base64 encoding해서\r\n      reader.onloadend = async () => {\r\n        const base64Data = String(reader.result.split(\",\")[1]);\r\n\r\n        try {\r\n          const res = await authClient({\r\n            method: \"post\",\r\n            url: \"/analyze/sources\",\r\n            data: {\r\n              date: currentDate,\r\n              facialExpression: base64Data,\r\n              textExpression: inputValue,\r\n            },\r\n          });\r\n\r\n          // response값으로 받은 analysisId result.jsx 파일에서 사용\r\n          const analysisId = res.data.id;\r\n\r\n          if (analysisId) {\r\n            // analysisId가 정의된 경우 실행할 코드\r\n            console.log(\"recommend analysisId:\", analysisId);\r\n          } else {\r\n            // analysisId가 정의되지 않은 경우 실행할 코드\r\n            console.log(\"recommend analysisId is undefined\");\r\n          }\r\n\r\n          navigate(\"/result\", { state: { analysisId: res.data.id } });\r\n          // 서버 응답 처리\r\n        } catch (error) {\r\n          if (error.response) {\r\n            // 서버 응답 에러\r\n            const err = error.response.data;\r\n            console.log(err);\r\n          }\r\n        }\r\n      };\r\n\r\n      reader.readAsDataURL(selectedFile);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputValue(e.target.value);\r\n  };\r\n\r\n  const handleFileChange = (file) => {\r\n    setSelectedFile(file);\r\n    //setInputValue(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <S.Container>\r\n      <S.Wrapper>\r\n        <S.Title>주류 추천을 받기 위해서 필요한 정보를 알려주세요!</S.Title>\r\n        <S.WhiteBox>\r\n          <S.textInput value={inputValue} onChange={handleInputChange} />\r\n          {inputValue === \"\" && (\r\n            <S.MyState>\r\n              {/* 모달창으로 약관 집어넣기 */}\r\n              기분이 어떠신가요? 감정이 표현되는 언어가 들어가있으면 좋아요!\r\n            </S.MyState>\r\n          )}\r\n        </S.WhiteBox>\r\n        <PhotoUpload\r\n          setSelectedFile={handleFileChange}\r\n          setImagePreview={setImagePreview}\r\n          imagePreview={imagePreview}\r\n        />\r\n        <S.ButtonContainer>\r\n          <S.SubmitButton onClick={handleFormSubmit}>\r\n            감정 분석 시작\r\n          </S.SubmitButton>\r\n          <S.SubmitButton onClick={openModal}>주류추천 tip</S.SubmitButton>\r\n        </S.ButtonContainer>\r\n        <Modal open={isModalOpen} onClose={closeModal}>\r\n          <Box\r\n            sx={{\r\n              position: \"absolute\",\r\n              top: \"50%\",\r\n              left: \"50%\",\r\n              transform: \"translate(-50%, -50%)\",\r\n              bgcolor: \"white\",\r\n              p: 2,\r\n              maxHeight: \"80vh\",\r\n              overflowY: \"auto\",\r\n            }}\r\n          >\r\n            <StyledTypography variant=\"h6\" component=\"h2\">\r\n              텍스트작성 tip\r\n            </StyledTypography>\r\n            <StyledTypography sx={{ fontStyle: \"BejuryuFont\" }}>\r\n              이렇게 하면 인공지능이 더 잘 이해해요! <br />\r\n              <br />\r\n              1. 명확하고 감정이 표현된 단어를 활용하기 - “기쁘다”, “슬프다”,\r\n              “화나다”와 같은 명확한 감정 표현을 사용하면 더 좋아요! <br />\r\n              2. 간결하고 명확한 문장을 구성하기 - 짧고 간결한 문장을 사용하면\r\n              더 좋아요!\r\n              <br />\r\n              3. 대화체나 감정을 강조하는 어구 사용하기 - 직접 다른 사람에게\r\n              말하는 것처럼 작성하면 더 좋아요!\r\n              <br />\r\n              4. 표정과 얼굴 특징: 인공지능이 감정을 인식하는 데 가장 중요한\r\n              힌트는 사람의 표정과 얼굴 특징입니다. 감정을 잘 인식하기 위해서는\r\n              사람의 얼굴이 명확하게 보이고 표정이 잘 드러나는 사진을\r\n              선택하세요.\r\n              <br />\r\n              5. 눈의 표현: 눈은 감정을 전달하는 데 중요한 역할을 합니다. 눈의\r\n              표정, 눈동자의 크기와 위치, 눈썹의 움직임 등을 인식할 수 있는\r\n              사진을 선택하세요. 이러한 특징들은 인공지능이 더 정확하게 감정을\r\n              파악하는 데 도움이 됩니다.\r\n              <br /> 6. 입 모양과 표현: 입의 모양과 표현은 감정을 전달하는 데\r\n              중요한 역할을 합니다. 입의 움직임, 입술의 형태와 표정 등을 잘\r\n              나타내는 사진을 선택하세요. 이러한 정보는 인공지능이 행복, 슬픔,\r\n              분노 등의 감정을 더 잘 인식하는 데 도움이 됩니다. <br /> 7. 자세와\r\n              신체 언어: 사람의 자세와 신체 언어도 감정을 전달하는 데 중요한\r\n              힌트를 제공합니다. 손동작, 어깨의 움직임, 몸의 자세 등이\r\n              인공지능이 감정을 인식하는 데 도움이 될 수 있습니다. 따라서\r\n              사진에서 사람의 자세와 신체 언어를 잘 포착할 수 있도록 주의하세요.{\" \"}\r\n              <br /> 8. 환경과 배경 정보: 사진을 분석하는 인공지능은 감정 인식을\r\n              위해 사람의 얼굴과 함께 주변 환경과 배경 정보를 고려하기도 합니다.\r\n              따라서 사진에서 사람의 주변 환경을 고려하고, 감정을 파악하는 데\r\n              도움이 될 수 있는 힌트를 포함하는 사진을 선택하세요. <br />\r\n              9. 다양한 감정 표현: 인공지능을 훈련시키기 위해서는 다양한 감정\r\n              표현이 포함된 사진을 사용하세요. 행복, 슬픔, 분노, 놀람 등 다양한\r\n              감정을 나타내는 사진을 선택하여 모델의 다양성과 정확성을 향상시킬\r\n              수 있습니다.\r\n            </StyledTypography>\r\n            <br />\r\n            <StyledTypography variant=\"h6\" component=\"h2\">\r\n              사진 tip\r\n            </StyledTypography>\r\n            <StyledTypography sx={{ mt: 2 }}>\r\n              이런 사진일 수록 인공지능이 더 잘 이해해요!\r\n              <br />\r\n              1. 이목구비가 다 들어난 사진 - 각 부위의 모양과 위치를 보고 감정을\r\n              판단하기 때문에, 다 들어난 사진이 더 좋아요!\r\n              <br />\r\n              2. 자세와 동작이 표현된 사진 - 자세와 동작도 감정을 전달할 수 있기\r\n              때문에, 표현된 사진이 더 좋아요!\r\n              <br />\r\n              3. 감정을 나타내는 배경이 들어난 사진 - 얼굴이 표현된 사진이\r\n              어려우면, 배경 사진도 괜찮아요!\r\n            </StyledTypography>\r\n\r\n            <Button onClick={closeModal}>주류추천 받으러 go</Button>\r\n          </Box>\r\n        </Modal>\r\n      </S.Wrapper>\r\n    </S.Container>\r\n  );\r\n}\r\n\r\n// 현재 날짜와 시각을 \"yyyy.MM.dd HH:mm\" 형식으로 반환하는 함수\r\nfunction getCurrentDateTime() {\r\n  const date = new Date();\r\n\r\n  const year = date.getFullYear();\r\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\r\n  const day = String(date.getDate()).padStart(2, \"0\");\r\n  const hours = String(date.getHours()).padStart(2, \"0\");\r\n  const minutes = String(date.getMinutes()).padStart(2, \"0\");\r\n\r\n  const formattedDateTime = `${year}-${month}-${day} ${hours}:${minutes}`;\r\n\r\n  return formattedDateTime;\r\n}\r\n\r\nexport default Recommend;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\Desktop\\\\BeJuRyu\\\\2023_1_WAT_BeJuRyu\\\\front\\\\src\\\\components\\\\Login\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useHistory } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport S from \"./styled\";\nimport logo from \"../../image/bejuryu.png\";\nimport { connect } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Kakao\n} = window;\nfunction Login() {\n  _s();\n  const history = useHistory();\n  const navigate = useNavigate();\n  const [isLogin, setIsLogin] = useState(false);\n  const [jwtToken, setJwtToken] = useState(\"\");\n\n  // 카카오 로그인\n  const loginWithKakao = () => {\n    Kakao.Auth.login({\n      success: function (authObj) {\n        fetch(`${process.env.REACT_APP_LOCAL}/auth`, {\n          method: \"POST\",\n          body: JSON.stringify({\n            access_token: authObj.access_token\n          })\n        }).then(res => res.json()).then(res => {\n          localStorage.setItem(\"Kakao_token\", res.access_token);\n          if (res.access_token) {\n            alert(\"BeJuRyu 에 오신걸 환영합니다!\");\n            history.push(\"/recommend\");\n          }\n        });\n      },\n      fail: function (err) {\n        alert(JSON.stringify(err));\n      }\n    });\n  };\n\n  /*\r\n  useEffect(() => {\r\n    const script = document.createElement(\"script\");\r\n    script.async = true;\r\n    script.src = \"https://developers.kakao.com/sdk/js/kakao.min.js\";\r\n    document.head.appendChild(script);\r\n    script.onload = () => {\r\n      if (!window.Kakao.isInitialized()) {\r\n        window.Kakao.init(\"d19046b7f49f6376e5f701a2a57167e3\");\r\n        // SDK 초기화 여부 확인\r\n        if (window.Kakao.Auth.getAccessToken()) {\r\n          console.log(\"액세스 토큰이 존재합니다. 세션을 유지합니다.\");\r\n          setIsLogin(true);\r\n        }\r\n      }\r\n    };\r\n  }, []);*/\n\n  const loginView = /*#__PURE__*/_jsxDEV(S.Container, {\n    children: /*#__PURE__*/_jsxDEV(S.Wrapper, {\n      children: [/*#__PURE__*/_jsxDEV(S.Title, {\n        children: \"BeJuRyu \\uC11C\\uBE44\\uC2A4\\uC5D0 \\uC624\\uC2E0\\uAC83\\uC744 \\uD658\\uC601\\uD569\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(S.Form, {\n        children: /*#__PURE__*/_jsxDEV(S.bejuryuImg, {\n          src: logo,\n          alt: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(S.explainBox, {\n        children: \"\\uB9CE\\uC774 \\uB9C8\\uC2DC\\uBA74 \\uD574\\uB86D\\uC9C0\\uB9CC, \\uC990\\uAC81\\uAC8C \\uB9C8\\uC2DC\\uBA74 \\uD65C\\uB825\\uC18C\\uAC00 \\uB418\\uC5B4 \\uC90D\\uB2C8\\uB2E4. \\uC624\\uB298, BeJuRyu\\uC640 \\uD568\\uAED8 \\uC220 \\uD55C\\uC794 \\uC5B4\\uB5A4\\uAC00\\uC694?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(S.BtnList, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"kakao-login-btn\",\n            onClick: loginWithKakao,\n            style: {\n              cursor: \"pointer\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://k.kakaocdn.net/14/dn/btroDszwNrM/I6efHub1SN5KCJqLm1Ovx1/o.jpg\",\n              width: \"222\",\n              alt: \"\\uCE74\\uCE74\\uC624 \\uB85C\\uADF8\\uC778 \\uBC84\\uD2BC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Login\",\n    children: loginView\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 10\n  }, this);\n}\n_s(Login, \"3I6irkUxjmJAamPTZkt5Qbf3V5I=\", false, function () {\n  return [useHistory, useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useEffect","useState","useHistory","useNavigate","axios","S","logo","connect","jsxDEV","_jsxDEV","Kakao","window","Login","_s","history","navigate","isLogin","setIsLogin","jwtToken","setJwtToken","loginWithKakao","Auth","login","success","authObj","fetch","process","env","REACT_APP_LOCAL","method","body","JSON","stringify","access_token","then","res","json","localStorage","setItem","alert","push","fail","err","loginView","Container","children","Wrapper","Title","fileName","_jsxFileName","lineNumber","columnNumber","Form","bejuryuImg","src","alt","explainBox","BtnList","id","onClick","style","cursor","width","className","_c","$RefreshReg$"],"sources":["C:/Users/Samsung/Desktop/BeJuRyu/2023_1_WAT_BeJuRyu/front/src/components/Login/Login.jsx"],"sourcesContent":["import { useEffect, useState, useHistory } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport S from \"./styled\";\r\nimport logo from \"../../image/bejuryu.png\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst { Kakao } = window;\r\n\r\nfunction Login() {\r\n  const history = useHistory();\r\n  const navigate = useNavigate();\r\n\r\n  const [isLogin, setIsLogin] = useState(false);\r\n  const [jwtToken, setJwtToken] = useState(\"\");\r\n\r\n  // 카카오 로그인\r\n  const loginWithKakao = () => {\r\n    Kakao.Auth.login({\r\n      success: function (authObj) {\r\n        fetch(`${process.env.REACT_APP_LOCAL}/auth`, {\r\n          method: \"POST\",\r\n          body: JSON.stringify({\r\n            access_token: authObj.access_token,\r\n          }),\r\n        })\r\n          .then((res) => res.json())\r\n          .then((res) => {\r\n            localStorage.setItem(\"Kakao_token\", res.access_token);\r\n            if (res.access_token) {\r\n              alert(\"BeJuRyu 에 오신걸 환영합니다!\");\r\n              history.push(\"/recommend\");\r\n            }\r\n          });\r\n      },\r\n      fail: function (err) {\r\n        alert(JSON.stringify(err));\r\n      },\r\n    });\r\n  };\r\n\r\n  /*\r\n  useEffect(() => {\r\n    const script = document.createElement(\"script\");\r\n    script.async = true;\r\n    script.src = \"https://developers.kakao.com/sdk/js/kakao.min.js\";\r\n    document.head.appendChild(script);\r\n    script.onload = () => {\r\n      if (!window.Kakao.isInitialized()) {\r\n        window.Kakao.init(\"d19046b7f49f6376e5f701a2a57167e3\");\r\n        // SDK 초기화 여부 확인\r\n        if (window.Kakao.Auth.getAccessToken()) {\r\n          console.log(\"액세스 토큰이 존재합니다. 세션을 유지합니다.\");\r\n          setIsLogin(true);\r\n        }\r\n      }\r\n    };\r\n  }, []);*/\r\n\r\n  const loginView = (\r\n    <S.Container>\r\n      <S.Wrapper>\r\n        <S.Title>BeJuRyu 서비스에 오신것을 환영합니다.</S.Title>\r\n        <S.Form>\r\n          <S.bejuryuImg src={logo} alt=\"logo\"></S.bejuryuImg>\r\n        </S.Form>\r\n        <S.explainBox>\r\n          많이 마시면 해롭지만, 즐겁게 마시면 활력소가 되어 줍니다. 오늘,\r\n          BeJuRyu와 함께 술 한잔 어떤가요?\r\n        </S.explainBox>\r\n        <S.BtnList>\r\n          <div>\r\n            <div\r\n              id=\"kakao-login-btn\"\r\n              onClick={loginWithKakao}\r\n              style={{ cursor: \"pointer\" }}\r\n            >\r\n              <img\r\n                src=\"https://k.kakaocdn.net/14/dn/btroDszwNrM/I6efHub1SN5KCJqLm1Ovx1/o.jpg\"\r\n                width=\"222\"\r\n                alt=\"카카오 로그인 버튼\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </S.BtnList>\r\n      </S.Wrapper>\r\n    </S.Container>\r\n  );\r\n\r\n  return <div className=\"Login\">{loginView}</div>;\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
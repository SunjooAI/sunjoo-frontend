{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Samsung/Desktop/BeJuRyu/2023_1_WAT_BeJuRyu/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Samsung/Desktop/BeJuRyu/2023_1_WAT_BeJuRyu/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Samsung/Desktop/BeJuRyu/2023_1_WAT_BeJuRyu/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import S from\"./styled\";import\"../../utils/settingCookie\";import authClient from\"../../apis/authClient\";import noAuthClient from\"../../apis/noAuthClient\";import{GET_NAME}from\"../../reducer/nameSlice\";import{useDispatch}from\"react-redux\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function NickChange(){var navigate=useNavigate();var dispatch=useDispatch();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),nickname=_useState2[0],setNickname=_useState2[1];var onNickHandler=function onNickHandler(e){setNickname(e.currentTarget.value);};// api 명세서 업데이트 되면 수정 예정\nvar onchangeNick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,err;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:navigate(\"/\");alert(\"변경이 완료되었습니다.\");_context.prev=2;_context.next=5;return authClient({method:\"put\",url:\"/member/nickname\",data:{userId:localStorage.getItem(\"user-id\"),newNickname:nickname}});case 5:res=_context.sent;_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);err=_context.t0.response.data;console.log(err);case 12:case\"end\":return _context.stop();}},_callee,null,[[2,8]]);}));return function onchangeNick(){return _ref.apply(this,arguments);};}();localStorage.setItem(\"nickname\",nickname);var NickChangeView=/*#__PURE__*/_jsxs(S.Container2,{children:[/*#__PURE__*/_jsxs(S.Info,{children:[/*#__PURE__*/_jsxs(S.NickCheck,{type:\"button\",onClick:onchangeNick,children:[\" \",\"\\uB2C9\\uB124\\uC784 \\uBCC0\\uACBD\"]}),/*#__PURE__*/_jsx(S.LogoutButton,{type:\"button\",onClick:function onClick(){return navigate(\"/MyPage\");},children:\"\\uB418\\uB3CC\\uC544\\uAC00\\uAE30\"})]}),/*#__PURE__*/_jsx(S.Wrapper,{children:/*#__PURE__*/_jsx(S.Input,{type:\"text\",value:nickname,placeholder:\"\\uBCC0\\uACBD\\uD560 \\uB2C9\\uB124\\uC784\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",onChange:onNickHandler})})]});return NickChangeView;}export default NickChange;","map":{"version":3,"names":["React","useState","useNavigate","S","authClient","noAuthClient","GET_NAME","useDispatch","jsxs","_jsxs","jsx","_jsx","NickChange","navigate","dispatch","_useState","_useState2","_slicedToArray","nickname","setNickname","onNickHandler","e","currentTarget","value","onchangeNick","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","err","wrap","_callee$","_context","prev","next","alert","method","url","data","userId","localStorage","getItem","newNickname","sent","t0","response","console","log","stop","apply","arguments","setItem","NickChangeView","Container2","children","Info","NickCheck","type","onClick","LogoutButton","Wrapper","Input","placeholder","onChange"],"sources":["C:/Users/Samsung/Desktop/BeJuRyu/2023_1_WAT_BeJuRyu/front/src/components/MyPage/Nickchange.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport S from \"./styled\";\r\nimport \"../../utils/settingCookie\";\r\nimport authClient from \"../../apis/authClient\";\r\nimport noAuthClient from \"../../apis/noAuthClient\";\r\nimport { GET_NAME } from \"../../reducer/nameSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nfunction NickChange() {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const [nickname, setNickname] = useState(\"\");\r\n  const onNickHandler = (e) => {\r\n    setNickname(e.currentTarget.value);\r\n  };\r\n\r\n  // api 명세서 업데이트 되면 수정 예정\r\n  const onchangeNick = async () => {\r\n    navigate(\"/\");\r\n    alert(\"변경이 완료되었습니다.\");\r\n    try {\r\n      const res = await authClient({\r\n        method: \"put\",\r\n        url: `/member/nickname`,\r\n        data: {\r\n          userId: localStorage.getItem(\"user-id\"),\r\n          newNickname: nickname,\r\n        },\r\n      });\r\n    } catch (error) {\r\n      const err = error.response.data;\r\n      console.log(err);\r\n    }\r\n  };\r\n  localStorage.setItem(\"nickname\", nickname);\r\n  const NickChangeView = (\r\n    <S.Container2>\r\n      <S.Info>\r\n        <S.NickCheck type=\"button\" onClick={onchangeNick}>\r\n          {\" \"}\r\n          {/* 수정된 부분 */}\r\n          닉네임 변경\r\n        </S.NickCheck>\r\n        <S.LogoutButton type=\"button\" onClick={() => navigate(\"/MyPage\")}>\r\n          되돌아가기\r\n        </S.LogoutButton>\r\n      </S.Info>\r\n      <S.Wrapper>\r\n        {/* 전역 상태관리 기능 추가 */}\r\n\r\n        <S.Input\r\n          type=\"text\"\r\n          value={nickname}\r\n          placeholder=\"변경할 닉네임을 입력하세요\"\r\n          onChange={onNickHandler}\r\n        ></S.Input>\r\n        {/* </S.Form> */}\r\n      </S.Wrapper>\r\n    </S.Container2>\r\n  );\r\n\r\n  return NickChangeView;\r\n}\r\n\r\nexport default NickChange;\r\n"],"mappings":"6bAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,CAAC,KAAM,UAAU,CACxB,MAAO,2BAA2B,CAClC,MAAO,CAAAC,UAAU,KAAM,uBAAuB,CAC9C,MAAO,CAAAC,YAAY,KAAM,yBAAyB,CAClD,OAASC,QAAQ,KAAQ,yBAAyB,CAClD,OAASC,WAAW,KAAQ,aAAa,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAE1C,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,GAAM,CAAAC,QAAQ,CAAGX,WAAW,EAAE,CAC9B,GAAM,CAAAY,QAAQ,CAAGP,WAAW,EAAE,CAE9B,IAAAQ,SAAA,CAAgCd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,GAAM,CAAAI,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIC,CAAC,CAAK,CAC3BF,WAAW,CAACE,CAAC,CAACC,aAAa,CAACC,KAAK,CAAC,CACpC,CAAC,CAED;AACA,GAAM,CAAAC,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,GAAA,CAAAC,GAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACnBvB,QAAQ,CAAC,GAAG,CAAC,CACbwB,KAAK,CAAC,cAAc,CAAC,CAACH,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEF,CAAAhC,UAAU,CAAC,CAC3BkC,MAAM,CAAE,KAAK,CACbC,GAAG,mBAAoB,CACvBC,IAAI,CAAE,CACJC,MAAM,CAAEC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CACvCC,WAAW,CAAE1B,QACf,CACF,CAAC,CAAC,QAPIY,GAAG,CAAAI,QAAA,CAAAW,IAAA,CAAAX,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAY,EAAA,CAAAZ,QAAA,aASHH,GAAG,CAAGG,QAAA,CAAAY,EAAA,CAAMC,QAAQ,CAACP,IAAI,CAC/BQ,OAAO,CAACC,GAAG,CAAClB,GAAG,CAAC,CAAC,yBAAAG,QAAA,CAAAgB,IAAA,MAAArB,OAAA,gBAEpB,kBAhBK,CAAAL,YAAYA,CAAA,SAAAC,IAAA,CAAA0B,KAAA,MAAAC,SAAA,OAgBjB,CACDV,YAAY,CAACW,OAAO,CAAC,UAAU,CAAEnC,QAAQ,CAAC,CAC1C,GAAM,CAAAoC,cAAc,cAClB7C,KAAA,CAACN,CAAC,CAACoD,UAAU,EAAAC,QAAA,eACX/C,KAAA,CAACN,CAAC,CAACsD,IAAI,EAAAD,QAAA,eACL/C,KAAA,CAACN,CAAC,CAACuD,SAAS,EAACC,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEpC,YAAa,CAAAgC,QAAA,EAC9C,GAAG,CACU,iCAEhB,GAAc,cACd7C,IAAA,CAACR,CAAC,CAAC0D,YAAY,EAACF,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA/C,QAAQ,CAAC,SAAS,CAAC,EAAC,CAAA2C,QAAA,CAAC,gCAElE,EAAiB,GACV,cACT7C,IAAA,CAACR,CAAC,CAAC2D,OAAO,EAAAN,QAAA,cAGR7C,IAAA,CAACR,CAAC,CAAC4D,KAAK,EACNJ,IAAI,CAAC,MAAM,CACXpC,KAAK,CAAEL,QAAS,CAChB8C,WAAW,CAAC,4EAAgB,CAC5BC,QAAQ,CAAE7C,aAAc,EACf,EAED,GAEf,CAED,MAAO,CAAAkC,cAAc,CACvB,CAEA,cAAe,CAAA1C,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}
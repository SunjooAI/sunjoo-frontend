{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Samsung/Desktop/BeJuRyu/2023_1_WAT_BeJuRyu/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Samsung/Desktop/BeJuRyu/2023_1_WAT_BeJuRyu/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Samsung/Desktop/BeJuRyu/2023_1_WAT_BeJuRyu/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* TODO\r\n  1. [o] 닉네임 변경 기능 추가 \r\n  2. [o]리뷰많은 순 랭킹 조회\r\n  3. [o]평점순 랭킹 조회 */import S from\"./styled\";import{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import settingCookie from\"../../utils/settingCookie\";import{useDispatch}from\"react-redux\";import Logout from\"./Logout\";import authClient from\"../../apis/authClient\";import noAuthClient from\"../../apis/noAuthClient\";import CircularProgress from\"@mui/material/CircularProgress\";import{useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MyPage(){// 리뷰순 랭킹\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),reviewRank=_useState2[0],setReviewRank=_useState2[1];// 평점순 랭킹\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),scoreRank=_useState4[0],setScoreRank=_useState4[1];// 로딩 상태를 관리하는 변수\nvar _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),selectedData=_useState8[0],setSelectedData=_useState8[1];var navigate=useNavigate();var dispatch=useDispatch();var userId=parseInt(localStorage.getItem(\"user-id\"));var checkHistory=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res,err,response,_err;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();navigate(\"/history\");_context.prev=2;_context.next=5;return authClient({method:\"get\",url:\"/analyze\"});case 5:res=_context.sent;console.log(res);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);if(_context.t0.response){err=_context.t0.response.data;console.log(err);}else{// 네트워크 에러 또는 클라이언트 에러\nconsole.log(\"Error:\",_context.t0.message);}case 12:_context.prev=12;_context.next=15;return authClient({method:\"get\",url:\"/member\"});case 15:response=_context.sent;console.log(\"떵공\");console.log(\"member api response:\",response);_context.next=23;break;case 20:_context.prev=20;_context.t1=_context[\"catch\"](12);if(_context.t1.response){_err=_context.t1.response.data;console.log(_err);}case 23:case\"end\":return _context.stop();}},_callee,null,[[2,9],[12,20]]);}));return function checkHistory(_x){return _ref.apply(this,arguments);};}();var changeNick=function changeNick(){navigate(\"/nickChange\");};var userName=localStorage.getItem(\"nickname\");var MyPageView=/*#__PURE__*/_jsxs(S.Container,{children:[/*#__PURE__*/_jsxs(S.Info,{children:[/*#__PURE__*/_jsx(S.LogoutButton,{onClick:checkHistory,children:\"\\uD788\\uC2A4\\uD1A0\\uB9AC \\uD655\\uC778\"}),/*#__PURE__*/_jsx(S.LogoutButton,{type:\"button\",onClick:changeNick,children:\"\\uB2C9\\uB124\\uC784 \\uBCC0\\uACBD\"}),/*#__PURE__*/_jsx(Logout,{})]}),/*#__PURE__*/_jsx(S.Wrapper,{})]});return MyPageView;}export default MyPage;","map":{"version":3,"names":["S","useEffect","useState","useNavigate","settingCookie","useDispatch","Logout","authClient","noAuthClient","CircularProgress","useSelector","jsx","_jsx","jsxs","_jsxs","MyPage","_useState","_useState2","_slicedToArray","reviewRank","setReviewRank","_useState3","_useState4","scoreRank","setScoreRank","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","selectedData","setSelectedData","navigate","dispatch","userId","parseInt","localStorage","getItem","checkHistory","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","res","err","response","_err","wrap","_callee$","_context","prev","next","preventDefault","method","url","sent","console","log","t0","data","message","t1","stop","_x","apply","arguments","changeNick","userName","MyPageView","Container","children","Info","LogoutButton","onClick","type","Wrapper"],"sources":["C:/Users/Samsung/Desktop/BeJuRyu/2023_1_WAT_BeJuRyu/front/src/components/MyPage/MyPage.jsx"],"sourcesContent":["/* TODO\r\n  1. [o] 닉네임 변경 기능 추가 \r\n  2. [o]리뷰많은 순 랭킹 조회\r\n  3. [o]평점순 랭킹 조회 */\r\n\r\nimport S from \"./styled\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport settingCookie from \"../../utils/settingCookie\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Logout from \"./Logout\";\r\nimport authClient from \"../../apis/authClient\";\r\nimport noAuthClient from \"../../apis/noAuthClient\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\n\r\nfunction MyPage() {\r\n  // 리뷰순 랭킹\r\n  const [reviewRank, setReviewRank] = useState([]);\r\n  // 평점순 랭킹\r\n  const [scoreRank, setScoreRank] = useState([]);\r\n  // 로딩 상태를 관리하는 변수\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [selectedData, setSelectedData] = useState(null);\r\n\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const userId = parseInt(localStorage.getItem(\"user-id\"));\r\n\r\n  const checkHistory = async (e) => {\r\n    e.preventDefault();\r\n    navigate(\"/history\");\r\n\r\n    try {\r\n      const res = await authClient({\r\n        method: \"get\",\r\n        url: \"/analyze\",\r\n      });\r\n      console.log(res);\r\n    } catch (error) {\r\n      if (error.response) {\r\n        const err = error.response.data;\r\n        console.log(err);\r\n      } else {\r\n        // 네트워크 에러 또는 클라이언트 에러\r\n        console.log(\"Error:\", error.message);\r\n      }\r\n    }\r\n\r\n    // 닉네임 조회\r\n    try {\r\n      const response = await authClient({\r\n        method: \"get\",\r\n        url: `/member`,\r\n      });\r\n      console.log(\"떵공\");\r\n      console.log(\"member api response:\", response);\r\n    } catch (error) {\r\n      if (error.response) {\r\n        const err = error.response.data;\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const changeNick = () => {\r\n    navigate(\"/nickChange\");\r\n  };\r\n\r\n  const userName = localStorage.getItem(\"nickname\");\r\n\r\n  const MyPageView = (\r\n    <S.Container>\r\n      <S.Info>\r\n        <S.LogoutButton onClick={checkHistory}>히스토리 확인</S.LogoutButton>\r\n\r\n        <S.LogoutButton type=\"button\" onClick={changeNick}>\r\n          닉네임 변경\r\n        </S.LogoutButton>\r\n        <Logout />\r\n      </S.Info>\r\n      <S.Wrapper></S.Wrapper>\r\n    </S.Container>\r\n  );\r\n\r\n  return MyPageView;\r\n}\r\n\r\nexport default MyPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}